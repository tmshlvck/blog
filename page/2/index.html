
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://tmshlvck.github.io/blog/page/2/">
      
      
      
        <link rel="next" href="../../archive/2025/">
      
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.4">
    
    
      
        <title>Blog - Brill's techblog</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.8608ea7d.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    <body dir="ltr">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#blog" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="Brill&#39;s techblog" class="md-header__button md-logo" aria-label="Brill's techblog" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Brill's techblog
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Blog
            
          </span>
        </div>
      </div>
    </div>
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Brill&#39;s techblog" class="md-nav__button md-logo" aria-label="Brill's techblog" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    Brill's techblog
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
    
      
    
  
  
    <li class="md-nav__item">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
      <a href="../.." class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Blog
    
  </span>
  

      </a>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
        
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="">
            
  
  <span class="md-ellipsis">
    Archive
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Archive
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../archive/2025/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    2025
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../archive/2024/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    2024
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../archive/2023/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    2023
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../archive/2022/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    2022
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../archive/2021/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    2021
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../archive/2019/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    2019
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../archive/2016/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    2016
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../archive/2015/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    2015
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../archive/2014/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    2014
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../archive/2013/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    2013
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../archive/2012/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    2012
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../archive/2011/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    2011
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../archive/2010/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    2010
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
  <div class="md-content" data-md-component="content">
    <div class="md-content__inner">
      <header class="md-typeset">
        <h1 id="blog">Blog</h1>
      </header>
      
        <article class="md-post md-post--excerpt">
  <header class="md-post__header">
    
    <div class="md-post__meta md-meta">
      <ul class="md-meta__list">
        <li class="md-meta__item">
          <time datetime="2015-11-06 00:31:00.002000+01:00">November 6, 2015</time></li>
        
        
          
          <li class="md-meta__item">
            
              5 min read
            
          </li>
        
      </ul>
      
    </div>
  </header>
  <div class="md-post__content md-typeset">
    <h2 id="eu-lost-its-mind-with-cookies"><a class="toclink" href="../../2015/11/06/2015-11-eu-lost-its-mind-with-cookies/">EU lost it's mind with cookies</a></h2>
<p><em>This was originally posted on blogger <a href="https://snarkybrill.blogspot.com/2015/11/eu-lost-its-mind-with-cookies.html">here</a></em>.</p>
<p>Are you fed up with the silly bothering and idiotic notices "This web site uses cookies, you have been warned" over and over again? I would say that it's really badly implemented almost everywhere and I can understand that. Nobody wants to spend money and programmers' time on this crap.<br />
<br />
So I suggest to change the note: EU imposed a new obligation for us to bother you with cookies. We think that it is nonsense but we have to comply: Please note this web site might use cookies to store data, jabber jibber, lot of data etc. If you want us not to bother you with obligatory EU crap vote against EU, whatever it might mean in your particular country. They deserve nothing less than being de-funded, thrown out from their nice warm offices into the real world and they have to be kept away from any possibility to mess up with our lives forever.</p>
    
  </div>
</article>
      
        <article class="md-post md-post--excerpt">
  <header class="md-post__header">
    
    <div class="md-post__meta md-meta">
      <ul class="md-meta__list">
        <li class="md-meta__item">
          <time datetime="2015-09-01 20:11:00.002000+02:00">September 1, 2015</time></li>
        
        
          
          <li class="md-meta__item">
            
              5 min read
            
          </li>
        
      </ul>
      
    </div>
  </header>
  <div class="md-post__content md-typeset">
    <h2 id="systemd-vs-syslog-on-debian"><a class="toclink" href="../../2015/09/01/2015-09-systemd-vs-syslog-on-debian/">systemd vs. syslog on Debian</a></h2>
<p><em>This was originally posted on blogger <a href="https://snarkybrill.blogspot.com/2015/09/systemd-vs-syslog-on-debian.html">here</a></em>.</p>
<p>I got pissed off by yet another <b>systemd</b> weirdness: My logfiles (generated by rsyslog)&nbsp;<b>/var/log/daemon.log</b>&nbsp;got flooded with shit like this:<br />
<br /></p>
<pre>Sep  1 13:35:36 lux systemd[13644]: Starting Paths.
Sep  1 13:35:36 lux systemd[13644]: Reached target Paths.
Sep  1 13:35:36 lux systemd[13644]: Starting Timers.
Sep  1 13:35:36 lux systemd[13644]: Reached target Timers.
Sep  1 13:35:36 lux systemd[13644]: Starting Sockets.
Sep  1 13:35:36 lux systemd[13644]: Reached target Sockets.
Sep  1 13:35:36 lux systemd[13644]: Starting Basic System.
Sep  1 13:35:36 lux systemd[13644]: Reached target Basic System.
Sep  1 13:35:36 lux systemd[13644]: Starting Default.
Sep  1 13:35:36 lux systemd[13644]: Reached target Default.
Sep  1 13:35:36 lux systemd[13644]: Startup finished in 13ms.
Sep  1 13:35:37 lux systemd[13644]: Stopping Default.
Sep  1 13:35:37 lux systemd[13644]: Stopped target Default.
Sep  1 13:35:37 lux systemd[13644]: Stopping Basic System.
Sep  1 13:35:37 lux systemd[13644]: Stopped target Basic System.
Sep  1 13:35:37 lux systemd[13644]: Stopping Paths.
Sep  1 13:35:37 lux systemd[13644]: Stopped target Paths.
Sep  1 13:35:37 lux systemd[13644]: Stopping Timers.
Sep  1 13:35:37 lux systemd[13644]: Stopped target Timers.
Sep  1 13:35:37 lux systemd[13644]: Stopping Sockets.
Sep  1 13:35:37 lux systemd[13644]: Stopped target Sockets.
Sep  1 13:35:37 lux systemd[13644]: Starting Shutdown.
Sep  1 13:35:37 lux systemd[13644]: Reached target Shutdown.
Sep  1 13:35:37 lux systemd[13644]: Starting Exit the Session...
Sep  1 13:35:37 lux systemd[13644]: Received SIGRTMIN+24 from PID 13654 (kill).
Sep  1 13:35:37 lux systemd[13666]: Starting Paths.
Sep  1 13:35:37 lux systemd[13666]: Reached target Paths.
Sep  1 13:35:37 lux systemd[13666]: Starting Timers.
Sep  1 13:35:37 lux systemd[13666]: Reached target Timers.
Sep  1 13:35:37 lux systemd[13666]: Starting Sockets.
Sep  1 13:35:37 lux systemd[13666]: Reached target Sockets.
Sep  1 13:35:37 lux systemd[13666]: Starting Basic System.
Sep  1 13:35:37 lux systemd[13666]: Reached target Basic System.
Sep  1 13:35:37 lux systemd[13666]: Starting Default.
Sep  1 13:35:37 lux systemd[13666]: Reached target Default.
Sep  1 13:35:37 lux systemd[13666]: Startup finished in 8ms.
Sep  1 13:35:37 lux systemd[13666]: Stopping Default.
Sep  1 13:35:37 lux systemd[13666]: Stopped target Default.
Sep  1 13:35:37 lux systemd[13666]: Stopping Basic System.
Sep  1 13:35:37 lux systemd[13666]: Stopped target Basic System.
Sep  1 13:35:37 lux systemd[13666]: Stopping Paths.
Sep  1 13:35:37 lux systemd[13666]: Stopped target Paths.
Sep  1 13:35:37 lux systemd[13666]: Stopping Timers.
Sep  1 13:35:37 lux systemd[13666]: Stopped target Timers.
Sep  1 13:35:37 lux systemd[13666]: Stopping Sockets.
Sep  1 13:35:37 lux systemd[13666]: Stopped target Sockets.
Sep  1 13:35:37 lux systemd[13666]: Starting Shutdown.
Sep  1 13:35:37 lux systemd[13666]: Reached target Shutdown.
Sep  1 13:35:37 lux systemd[13666]: Starting Exit the Session...
Sep  1 13:35:37 lux systemd[13666]: Received SIGRTMIN+24 from PID 13685 (kill).
Sep  1 13:35:37 lux systemd[13705]: Starting Paths.
Sep  1 13:35:37 lux systemd[13705]: Reached target Paths.
Sep  1 13:35:37 lux systemd[13705]: Starting Timers.
Sep  1 13:35:37 lux systemd[13705]: Reached target Timers.
Sep  1 13:35:37 lux systemd[13705]: Starting Sockets.
Sep  1 13:35:37 lux systemd[13705]: Reached target Sockets.
Sep  1 13:35:37 lux systemd[13705]: Starting Basic System.
Sep  1 13:35:37 lux systemd[13705]: Reached target Basic System.
Sep  1 13:35:37 lux systemd[13705]: Starting Default.
Sep  1 13:35:37 lux systemd[13705]: Reached target Default.
Sep  1 13:35:37 lux systemd[13705]: Startup finished in 8ms.
Sep  1 13:35:38 lux systemd[13705]: Stopping Default.
Sep  1 13:35:38 lux systemd[13705]: Stopped target Default.
Sep  1 13:35:38 lux systemd[13705]: Stopping Basic System.
Sep  1 13:35:38 lux systemd[13705]: Stopped target Basic System.
Sep  1 13:35:38 lux systemd[13705]: Stopping Paths.
Sep  1 13:35:38 lux systemd[13705]: Stopped target Paths.
Sep  1 13:35:38 lux systemd[13705]: Stopping Timers.
Sep  1 13:35:38 lux systemd[13705]: Stopped target Timers.
Sep  1 13:35:38 lux systemd[13705]: Stopping Sockets.
Sep  1 13:35:38 lux systemd[13705]: Stopped target Sockets.
Sep  1 13:35:38 lux systemd[13705]: Starting Shutdown.
Sep  1 13:35:38 lux systemd[13705]: Reached target Shutdown.
Sep  1 13:35:38 lux systemd[13705]: Starting Exit the Session...
Sep  1 13:35:38 lux systemd[13705]: Received SIGRTMIN+24 from PID 13714 (kill).
Sep  1 13:35:38 lux systemd[13742]: Starting Paths.
Sep  1 13:35:38 lux systemd[13742]: Reached target Paths.
Sep  1 13:35:38 lux systemd[13742]: Starting Timers.
Sep  1 13:35:38 lux systemd[13742]: Reached target Timers.
Sep  1 13:35:38 lux systemd[13742]: Starting Sockets.
Sep  1 13:35:38 lux systemd[13742]: Reached target Sockets.
Sep  1 13:35:38 lux systemd[13742]: Starting Basic System.
Sep  1 13:35:38 lux systemd[13742]: Reached target Basic System.
Sep  1 13:35:38 lux systemd[13742]: Starting Default.
Sep  1 13:35:38 lux systemd[13742]: Reached target Default.
Sep  1 13:35:38 lux systemd[13742]: Startup finished in 14ms.
Sep  1 13:35:38 lux systemd[13742]: Stopping Default.
Sep  1 13:35:38 lux systemd[13742]: Stopped target Default.
Sep  1 13:35:38 lux systemd[13742]: Stopping Basic System.
Sep  1 13:35:38 lux systemd[13742]: Stopped target Basic System.
Sep  1 13:35:38 lux systemd[13742]: Stopping Paths.
Sep  1 13:35:38 lux systemd[13742]: Stopped target Paths.
Sep  1 13:35:38 lux systemd[13742]: Stopping Timers.
Sep  1 13:35:38 lux systemd[13742]: Stopped target Timers.
Sep  1 13:35:38 lux systemd[13742]: Stopping Sockets.
Sep  1 13:35:38 lux systemd[13742]: Stopped target Sockets.
Sep  1 13:35:38 lux systemd[13742]: Starting Shutdown.
Sep  1 13:35:38 lux systemd[13742]: Reached target Shutdown.
Sep  1 13:35:38 lux systemd[13742]: Starting Exit the Session...
Sep  1 13:35:38 lux systemd[13742]: Received SIGRTMIN+24 from PID 13753 (kill).
Sep  1 13:35:39 lux systemd[13779]: Starting Paths.
Sep  1 13:35:39 lux systemd[13779]: Reached target Paths.
Sep  1 13:35:39 lux systemd[13779]: Starting Timers.
Sep  1 13:35:39 lux systemd[13779]: Reached target Timers.
Sep  1 13:35:39 lux systemd[13779]: Starting Sockets.
Sep  1 13:35:39 lux systemd[13779]: Reached target Sockets.
Sep  1 13:35:39 lux systemd[13779]: Starting Basic System.
Sep  1 13:35:39 lux systemd[13779]: Reached target Basic System.
Sep  1 13:35:39 lux systemd[13779]: Starting Default.
Sep  1 13:35:39 lux systemd[13779]: Reached target Default.
Sep  1 13:35:39 lux systemd[13779]: Startup finished in 14ms.
Sep  1 13:35:39 lux systemd[13779]: Stopping Default.
Sep  1 13:35:39 lux systemd[13779]: Stopped target Default.
Sep  1 13:35:39 lux systemd[13779]: Stopping Basic System.
Sep  1 13:35:39 lux systemd[13779]: Stopped target Basic System.
Sep  1 13:35:39 lux systemd[13779]: Stopping Paths.
Sep  1 13:35:39 lux systemd[13779]: Stopped target Paths.
Sep  1 13:35:39 lux systemd[13779]: Stopping Timers.
Sep  1 13:35:39 lux systemd[13779]: Stopped target Timers.
Sep  1 13:35:39 lux systemd[13779]: Stopping Sockets.
Sep  1 13:35:39 lux systemd[13779]: Stopped target Sockets.
Sep  1 13:35:39 lux systemd[13779]: Starting Shutdown.
Sep  1 13:35:39 lux systemd[13779]: Reached target Shutdown.
Sep  1 13:35:39 lux systemd[13779]: Starting Exit the Session...
Sep  1 13:35:39 lux systemd[13779]: Received SIGRTMIN+24 from PID 13788 (kill).
</pre>
<p><br />
What the <strong><em>* is that? What the hell does it mean? I googled a bit but after reading few meaningless discussion like A: "What does it mean? Is it serious? How do I get rid of this". B: "It is for your own good. Suffer and be silent." I got finally an impression that it is harmless and it simple means that <b>systemd</b>&nbsp;mothe</em></strong>*er somehow help to log-in and log-out users and it does something(?) with processes that get started by&nbsp;<b>cron</b>.<br />
<br />
Then I came across some RHEL/Fedora bug report where even&nbsp;Lennart Poettering posted his "Won'tfix! It's for your own good. Resistance is futile, keep you mouth shut and suffer with&nbsp;<b>systemd</b>." Somebody called him an idiot in response. :-)<br />
<br />
Anyway, the problem occurred only on Debian systems that have been upgraded from Wheezy to Jessie, but not on freshly installed Jessies. So I compared configuration and the difference that... well, it made the difference, was:<br />
<br /></p>
<pre>session        optional        pam_systemd.so
</pre>
<p><br />
line in&nbsp;<b>/etc/pam.d/common-session</b> . I just commented it out and the shitload of annoying log messages stopped.</p>
<hr />
<h3 id="1-comments-captured-from-original-post-on-blogger"><a class="toclink" href="../../2015/09/01/2015-09-systemd-vs-syslog-on-debian/#1-comments-captured-from-original-post-on-blogger">1 comments captured from <a href="https://snarkybrill.blogspot.com/2015/09/systemd-vs-syslog-on-debian.html">original post</a> on Blogger</a></h3>
<p><strong>Elijah Jericho said on 2016-04-20</strong></p>
<p>Thanks for that :)</p>
    
  </div>
</article>
      
        <article class="md-post md-post--excerpt">
  <header class="md-post__header">
    
    <div class="md-post__meta md-meta">
      <ul class="md-meta__list">
        <li class="md-meta__item">
          <time datetime="2015-08-12 02:26:00.002000+02:00">August 12, 2015</time></li>
        
        
          
          <li class="md-meta__item">
            
              5 min read
            
          </li>
        
      </ul>
      
    </div>
  </header>
  <div class="md-post__content md-typeset">
    <h2 id="mgetty-in-systemd-for-modem-dial-in-server"><a class="toclink" href="../../2015/08/12/2015-08-mgetty-in-systemd-for-modem-dial-in/">mgetty in systemd for modem dial-in server</a></h2>
<p><em>This was originally posted on blogger <a href="https://snarkybrill.blogspot.com/2015/08/mgetty-in-systemd-for-modem-dial-in.html">here</a></em>.</p>
<p>I used to have a modem dial-in server as an out-of-band management for key network elements. The idea was to call the server over the GSM from another place with minicom, connect to the terminal of the server and then use another serial consoles that was connected from the server to routers, switches etc...<br />
<br />
So far so good, I used to have a simple <b>/etc/inittab</b> line like this:<br />
<br /></p>
<pre>T3:23:respawn:/sbin/mgetty -D -s 115200 ttyS0
</pre>
<p><br />
But... The ****ing almighty&nbsp;<b>systemd</b> came to create hell on earth for Linux users... No <b>/etc/inittab</b> anymore, no nothing. Well, UTFG, so I get completely wrong advice to try:<br />
<br /></p>
<pre># systemctl start getty@ttyS0.service
</pre>
<p><br />
And that's it... (?) No, it isn't! It simply does not accept the call, because it uses agetty and agetty can't do that or it is not configured or whatever.<br />
<br />
After one particularly hot, unpleasant and exhausting afternoon spent on experimenting with this I came to following config for systemd that works for me (place it to <b>/etc/systemd/system/mgetty.service</b>):<br />
<br /></p>
<pre>[Unit]
Description=Smart Modem Getty(mgetty)
Documentation=man:mgetty(8)
Requires=systemd-udev-settle.service
After=systemd-udev-settle.service

[Service]
Type=simple
ExecStart=/sbin/mgetty -D -s 115200 /dev/ttyS0
Restart=always
PIDFile=/var/run/mgetty.pid.ttyS0

[Install]
WantedBy=multi-user.target
</pre>
<p><br />
And of course:<br />
<br /></p>
<pre># systemctl start mgetty.service
# systemctl enable mgetty.service
</pre>
<p><br />
I hate systemd! I really do. But I'll learn about it. It has spread to all reasonable distros like a nasty infection so we have to learn living with it, I guess.</p>
<hr />
<h3 id="5-comments-captured-from-original-post-on-blogger"><a class="toclink" href="../../2015/08/12/2015-08-mgetty-in-systemd-for-modem-dial-in/#5-comments-captured-from-original-post-on-blogger">5 comments captured from <a href="https://snarkybrill.blogspot.com/2015/08/mgetty-in-systemd-for-modem-dial-in.html">original post</a> on Blogger</a></h3>
<p><strong>Unknown said on 2015-08-21</strong></p>
<p>Thanks.  Finally surrendered to systemd since it seemed inevitable, and needed my trusty faxmodem still receiving for legal documents.</p>
<p><strong>Unknown said on 2018-07-20</strong></p>
<p>I didn't fully understand this ...<br />(still reeling from the systemd crap)<br /><br />I created a directory entry:<br /><br />serial-getty@ttyUSB0.service.d<br /><br />much like the one I created for ttyS0 where my terminal is, but the modem just keeps running. It's treating the modem like a terminal.<br /><br />How did you specify that it use mgetty instead of agetty?<br /><br />Sorry ... still trying to grasp this.<br /><br />/etc/inittab was soooooo much easier!<br /><br />-rAllcorn-</p>
<p><strong>Rich Allcorn said on 2018-08-10</strong></p>
<p>After reviewing this, I have come to the conclusion that &quot;YOU SIR&quot; are the ONLY ONE who ever explained this on how to do with a &quot;systemd infected system&quot;.  <br /><br />THANK YOU SO VERY MUCH!!!!<br /><br /><br />I am copying the file I created, to make things simple, and to honor YOUR labors ... again, I thank you!!<br /><br />(see following post)</p>
<p><strong>Rich Allcorn said on 2018-08-10</strong></p>
<h2 id="etcsystemdsystemmgettyservice-credit-for-creating-this-goes-to-snarky-brill-who-posted-a-guide-that-helped-me-to-create-this-one-see-url-httpssnarkybrillblogspotcom201508mgetty-in-systemd-for-modem-dial-inhtmlshowcomment1533868591623c3913812844269156303-this-file-enables-model-dial-in-services-using-mgetty-for-ttyusb0-where-the-modem-resides-on-my-system-you-can-tailor-this-for-whatever-serial-port-your-modem-may-reside-copy-this-file-to-etcsystemdsystemunitdescriptionsmart-modem-gettymgettydocumentationmanmgetty8requiressystemd-udev-settleserviceaftersystemd-udev-settleserviceservicetypesimpleexecstartsbinmgetty-d-s-38400-devttyusb0restartalwayspidfilevarrunmgettypidttyusb0installwantedbymulti-usertarget-dont-forget-to-run-the-following-commands-sudo-systemctl-start-mgettyservice-sudo-systemctl-enable-mgettyservice-after-copying-the-file-to-etcsystemdsystem"><a class="toclink" href="../../2015/08/12/2015-08-mgetty-in-systemd-for-modem-dial-in/#etcsystemdsystemmgettyservice-credit-for-creating-this-goes-to-snarky-brill-who-posted-a-guide-that-helped-me-to-create-this-one-see-url-httpssnarkybrillblogspotcom201508mgetty-in-systemd-for-modem-dial-inhtmlshowcomment1533868591623c3913812844269156303-this-file-enables-model-dial-in-services-using-mgetty-for-ttyusb0-where-the-modem-resides-on-my-system-you-can-tailor-this-for-whatever-serial-port-your-modem-may-reside-copy-this-file-to-etcsystemdsystemunitdescriptionsmart-modem-gettymgettydocumentationmanmgetty8requiressystemd-udev-settleserviceaftersystemd-udev-settleserviceservicetypesimpleexecstartsbinmgetty-d-s-38400-devttyusb0restartalwayspidfilevarrunmgettypidttyusb0installwantedbymulti-usertarget-dont-forget-to-run-the-following-commands-sudo-systemctl-start-mgettyservice-sudo-systemctl-enable-mgettyservice-after-copying-the-file-to-etcsystemdsystem">/etc/systemd/system/mgetty.service<br />#<br /># credit for creating this goes to:  <br /># &quot;Snarky Brill&quot;, who posted a guide that helped me to create this one<br />#<br />#  see URL:  <br />#  https://snarkybrill.blogspot.com/2015/08/mgetty-in-systemd-for-modem-dial-in.html?showComment=1533868591623#c3913812844269156303<br />#<br />#<br /># This file enables model dial-in services using mgetty for ttyUSB0<br /># where the modem resides on my system.  <br />#<br /># You can tailor this for whatever serial port your modem may reside <br />#<br />#<br /># Copy this file to:  /etc/systemd/system<br /><br />[Unit]<br />Description=Smart Modem Getty(mgetty)<br />Documentation=man:mgetty(8)<br />Requires=systemd-udev-settle.service<br />After=systemd-udev-settle.service<br /><br />[Service]<br />Type=simple<br />ExecStart=/sbin/mgetty -D -s 38400 /dev/ttyUSB0<br />Restart=always<br />PIDFile=/var/run/mgetty.pid.ttyUSB0<br /><br />[Install]<br />WantedBy=multi-user.target<br /><br /><br /># Don't forget to run the following commands:<br />#<br /># <br /># $ sudo systemctl start mgetty.service<br /># $ sudo systemctl enable mgetty.service<br />#<br /># <br /># ... after copying the file to /etc/systemd/system/<br />#<br /></a></h2>
<p><strong>Unknown said on 2018-12-13</strong></p>
<p>Thank you very much.<br /><br />I am the author of mgetty, but I stopped using Linux a while ago due to systemd plague - and today I needed to install mgetty on a customer's Ubuntu system.  Which brought a nice precompiled package, but NO UNIT FILE...<br /><br />Now I have one, thanks to your blog :-)</p>
    
  </div>
</article>
      
        <article class="md-post md-post--excerpt">
  <header class="md-post__header">
    
    <div class="md-post__meta md-meta">
      <ul class="md-meta__list">
        <li class="md-meta__item">
          <time datetime="2014-12-11 18:51:00+01:00">December 11, 2014</time></li>
        
        
          
          <li class="md-meta__item">
            
              5 min read
            
          </li>
        
      </ul>
      
    </div>
  </header>
  <div class="md-post__content md-typeset">
    <h2 id="debians-driver-for-intel-gpus-is-s"><a class="toclink" href="../../2014/12/11/2014-12-debians-driver-for-intel-gpus-is--/">Debian's driver for Intel GPUs is s***</a></h2>
<p><em>This was originally posted on blogger <a href="https://snarkybrill.blogspot.com/2014/12/debians-driver-for-intel-gpus-is-shit.html">here</a></em>.</p>
<p>After a few years spent with Ubuntu and Linux Mint I decided to give Debian Jessie a try this week. And I have to admit that I also wanted to see systemd in action just to assess it myself and see whether it has some potential to do something good or otherwise.<br />
<br />
But the Debian Jessie with either Cinnamon or Mate desktop was unusable on my ThinkPad X301. The graphics was sluggish. Even video playback in VLC was apparently loosing one third of frames even in lower quality movies. The mouse wheel on external USB mouse was lagging. Keyboard has visible lag behind key press and the letter being inserted to terminal/text editor/whatever. The experience was really horrible. Wtf?<br />
<br />
Well, I suspected the Cinnamon desktop that I installed in the first place. I thought that it might eat up CPU and put too much strain on GPU. This assumption proved wrong. So the problem was apparently somwhere in XOrg. Sluggish video and lagging inputs worried me because how one problem could possibly cause that. Well, it is possible in the XOrg because one driver can slow down the whole thing and cause problems even in other subsystems.<br />
<br />
After a few hours tuning this and that I checked the version of the Intel driver and... Well, the driver is old deprecated ***. And it is present in all current Debian versions (stable... that's a joke:-) ), testing (which is freezed so it is going to be "stable", LOL), and unstable (at least the name suggest that it does not work properly, which is completely true).<br />
<br />
This blog post explains everything:&nbsp;<a href="http://blogs.fsfe.org/the_unconventional/2014/11/12/debian-x-drivers/">http://blogs.fsfe.org/the_unconventional/2014/11/12/debian-x-drivers/</a><br />
<br />
Just for reference: That's what I have.<br />
<br /></p>
<pre>00:02.0 VGA compatible controller: Intel Corporation Mobile 4 Series Chipset Integrated Graphics Controller (rev 07) (prog-if 00 [VGA controller])
 Subsystem: Lenovo Device 20e4
 Flags: bus master, fast devsel, latency 0, IRQ 47
 Memory at f0000000 (64-bit, non-prefetchable) [size=4M]
 Memory at d0000000 (64-bit, prefetchable) [size=256M]
 I/O ports at 1800 [size=8]
 Expansion ROM at  [disabled]
 Capabilities: [90] MSI: Enable+ Count=1/1 Maskable- 64bit-
 Capabilities: [d0] Power Management version 3
 Kernel driver in use: i915
</pre>
<p><br />
And my solution was:
<br /></p>
<pre>echo "deb http://ftp.debian.org/debian experimental main" &gt;&gt; /etc/apt/sources.list
apt-get update
apt-get -t experimental install xserver-xorg-video-intel
</pre>
    
  </div>
</article>
      
        <article class="md-post md-post--excerpt">
  <header class="md-post__header">
    
    <div class="md-post__meta md-meta">
      <ul class="md-meta__list">
        <li class="md-meta__item">
          <time datetime="2014-12-10 03:43:00+01:00">December 10, 2014</time></li>
        
        
          
          <li class="md-meta__item">
            
              5 min read
            
          </li>
        
      </ul>
      
    </div>
  </header>
  <div class="md-post__content md-typeset">
    <h2 id="openhantek-udev-rulez"><a class="toclink" href="../../2014/12/10/2014-12-openhantek-udev-rulez/">OpenHantek udev rulez</a></h2>
<p><em>This was originally posted on blogger <a href="https://snarkybrill.blogspot.com/2014/12/openhantek-udev-rulez.html">here</a></em>.</p>
<p>I have a small and cheap Hantek DSO-2090 USB oscilloscope... And, well, the HW is old, cheap Chinese box that looks extremely ugly. I have not enough bravery to look inside but I do not hope for anything good. But it was cheap enough and when I was moving I really needed to get rid of my old Russian 15 kg, 0.5 cubic meter CRT oscilloscope so I decided to buy this one. It was conscious choice and it works for me pretty well since I am doing only basic electronic measurements here.<br />
<br />
But I migrated to a newer Debian system so I had to rebuild my OpenHantek SW, which was pretty painless. Many thanks to the author of this blog post: <a href="http://verahill.blogspot.cz/2012/12/298-hantek-dso-2250-usb-with-openhantek.html">http://verahill.blogspot.cz/2012/12/298-hantek-dso-2250-usb-with-openhantek.html</a><br />
<br />
But there were still a problem with udev that failed to change group and access rights to the /dev/bus/usb/... file, so I was unable to use OpenHantek as an ordinary user. The solution is obvious, the old udev rule file used SYSFS instead of ATTR. This is my working version:<br />
<br />
<br /></p>
<pre># Hantek DSO-2090
SUBSYSTEM=="usb", ACTION=="add", ENV{DEVTYPE}=="usb_device", ENV{PRODUCT}=="4b4/2090/*", RUN+="/sbin/fxload -t fx2 -I /usr/local/share/hantek/dso2090-firmware.hex -s /usr/local/share/hantek/dso2090-loader.hex -D $env{DEVNAME}"
ATTR{idVendor}=="04b5", ATTR{idProduct}=="2090", MODE="0660", GROUP="plugdev"

# Hantek DSO-2100
SUBSYSTEM=="usb", ACTION=="add", ENV{DEVTYPE}=="usb_device", ENV{PRODUCT}=="547/1006/*", RUN+="/sbin/fxload -t an21 -I /usr/local/share/hantek/dso2100-firmware.hex -s /usr/local/share/hantek/dso2100-loader.hex -D $env{DEVNAME}"
ATTR{idVendor}=="0547", ATTR{idProduct}=="1002", MODE="0660", GROUP="plugdev"

# Hantek DSO-2150
SUBSYSTEM=="usb", ACTION=="add", ENV{DEVTYPE}=="usb_device", ENV{PRODUCT}=="4b4/2150/*", RUN+="/sbin/fxload -t fx2 -I /usr/local/share/hantek/dso2150-firmware.hex -s /usr/local/share/hantek/dso2150-loader.hex -D $env{DEVNAME}"
ATTR{idVendor}=="04b5", ATTR{idProduct}=="2150", MODE="0660", GROUP="plugdev"

# Hantek DSO-2250
SUBSYSTEM=="usb", ACTION=="add", ENV{DEVTYPE}=="usb_device", ENV{PRODUCT}=="4b4/2250/*", RUN+="/sbin/fxload -t fx2 -I /usr/local/share/hantek/dso2250-firmware.hex -s /usr/local/share/hantek/dso2250-loader.hex -D $env{DEVNAME}"
ATTR{idVendor}=="04b5", ATTR{idProduct}=="2250", MODE="0660", GROUP="plugdev"

# Hantek DSO-5200
SUBSYSTEM=="usb", ACTION=="add", ENV{DEVTYPE}=="usb_device", ENV{PRODUCT}=="4b4/5200/*", RUN+="/sbin/fxload -t fx2 -I /usr/local/share/hantek/dso5200-firmware.hex -s /usr/local/share/hantek/dso5200-loader.hex -D $env{DEVNAME}"
ATTR{idVendor}=="04b5", ATTR{idProduct}=="5200", MODE="0660", GROUP="plugdev"

# Hantek DSO-5200A
SUBSYSTEM=="usb", ACTION=="add", ENV{DEVTYPE}=="usb_device", ENV{PRODUCT}=="4b4/520A/*", RUN+="/sbin/fxload -t fx2 -I /usr/local/share/hantek/dso520a-firmware.hex -s /usr/local/share/hantek/dso520a-loader.hex -D $env{DEVNAME}"
ATTR{idVendor}=="04b5", ATTR{idProduct}=="520A", MODE="0660", GROUP="plugdev"
</pre>
<p><br />
Assuming the path to the *.hex file generated by the openhantek-extractfw is /usr/local/share/hantek .</p>
<hr />
<h3 id="2-comments-captured-from-original-post-on-blogger"><a class="toclink" href="../../2014/12/10/2014-12-openhantek-udev-rulez/#2-comments-captured-from-original-post-on-blogger">2 comments captured from <a href="https://snarkybrill.blogspot.com/2014/12/openhantek-udev-rulez.html">original post</a> on Blogger</a></h3>
<p><strong>partinis said on 2018-02-09</strong></p>
<p>Hello,<br /><br />I have just tried it and have exactly the same problem as described by Mladen on https://sourceforge.net/p/openhantek/discussion/1153137/thread/d4f2beda/.<br /><br /><br />Please do you have any suggestions to solve it?<br /><br /><br />My device:<br /><br />ID 0547:1006 Anchor Chips, Inc. Hantek DSO-2100 UF<br /><br />ID 0547:1002 Anchor Chips, Inc. Python2 WDM Encoder (after loading firmware with fxload)<br /><br /><br />Using following sources I was able to achieve best results ever (Scope is detected and relay clicks are hearable)<br /><br />http://svn.code.sf.net/p/openhantek/code/trunk<br /><br /><br />I have also tried:<br /><br />https://github.com/OpenHantek/openhantek<br /><br />http://verahill.blogspot.de/2012/12/298-hantek-dso-2250-usb-with-openhantek.html<br /><br />However without any success…<br /><br /><br />Regards,<br />partinis<br /></p>
<p><strong>Tomas Hlavacek said on 2018-02-09</strong></p>
<p>I suggest you to ask on GitHub (create issue in OpenHantek project perhaps). It seems that developer is unexpectedly helpful, responds quickly and tries to solve your problems.<br /><br />I know, unfortunately just my version (DSO-2090) and is works out of box with current OpenHantek cloned from GitHub.</p>
    
  </div>
</article>
      
        <article class="md-post md-post--excerpt">
  <header class="md-post__header">
    
    <div class="md-post__meta md-meta">
      <ul class="md-meta__list">
        <li class="md-meta__item">
          <time datetime="2014-05-08 01:51:00.001000+02:00">May 8, 2014</time></li>
        
        
          
          <li class="md-meta__item">
            
              5 min read
            
          </li>
        
      </ul>
      
    </div>
  </header>
  <div class="md-post__content md-typeset">
    <h2 id="smokeping-sy-madness"><a class="toclink" href="../../2014/05/08/2014-05-smokeping-slavery-madness/">Smokeping s<strong>*</strong>y madness</a></h2>
<p><em>This was originally posted on blogger <a href="https://snarkybrill.blogspot.com/2014/05/smokeping-slavery-madness.html">here</a></em>.</p>
<p>So once again I have been hit by an insane portion of <b>weird, flawed and inherently unreliable design</b> in <b>Smokeping</b>.<br />
<br />
What the **** is <b>Smokeping</b>? Well, it is an utility for measuring and graphing latency in network. It should be pretty straight-forward to use. You configure IP addresses and names of boxes to monitor and that't it? Well, not so fast... It is a bit <b>poxy</b> because it is Perl after all. You need some modules, you need to have multiple configuration files, you have to configure probes, bind them to targets, modify arguments for probes in target configs etc. There is quite a lot of how-to's for this and in fact it works almost out of box on most distributions.<br />
<br />
But... The Smokeping <b>beast</b> has also a slave mode. Which means: You have one master that holds configurations and it performs measurements and it generate graphs, everything is the same as in standalone mode. But it also commands slaves to perform the same measurements and report results so the master saves the results to .rrd files and it create graphs.<br />
<br />
This communication with slaves is performed by CGI in the Smokeping webroot. And here comes the problem: Privileges.<br />
<br />
When Smokeping runs as a daemon it is executed under smokeping user, at least on Debian. So all files that it stores (on Debian usually these files end up in /var/lib/smokeping) have smokeping:smokeping user and group and privileges 644. That works for daemon to store data and for CGIs to read them.<br />
<br />
But if you need CGIs to store data from slaves, it is not enough. The Smokeping (daemon perhaps?) creates proper .rrd files for the remote measurements from slaves, but these files are updated, so no data in are being displayed in graphs.<br />
<br />
Solution:<br />
<br /></p>
<pre>chmod -R g+w /var/lib/smokeping
</pre>
    
  </div>
</article>
      
        <article class="md-post md-post--excerpt">
  <header class="md-post__header">
    
    <div class="md-post__meta md-meta">
      <ul class="md-meta__list">
        <li class="md-meta__item">
          <time datetime="2013-10-12 08:06:00.003000+02:00">October 12, 2013</time></li>
        
        
          
          <li class="md-meta__item">
            
              5 min read
            
          </li>
        
      </ul>
      
    </div>
  </header>
  <div class="md-post__content md-typeset">
    <h2 id="flaw-in-common-network-design-pattern-or-in-understanding-how-to-use-it"><a class="toclink" href="../../2013/10/12/2013-10-flaw-in-common-network-design-pattern/">Flaw in common network design pattern (or in understanding how to use it)?</a></h2>
<p><em>This was originally posted on blogger <a href="https://snarkybrill.blogspot.com/2013/10/flaw-in-common-network-design-pattern.html">here</a></em>.</p>
<p>There is an old and not-so-clever network design pattern like this:<br />
<br /></p>
<div class="separator" style="clear: both; text-align: center;">
<a href="http://2.bp.blogspot.com/-E_TM_EDbTkw/UljlhoDw1UI/AAAAAAAAAHs/H3jvFEfNa38/s1600/layered-design-pattern.png" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="165" src="http://2.bp.blogspot.com/-E_TM_EDbTkw/UljlhoDw1UI/AAAAAAAAAHs/H3jvFEfNa38/s320/layered-design-pattern.png" width="320" /></a></div>
<p><br />
<br />
I know this from CCN(A|P) but I have no idea who invented it. Cisco perhaps. Idea is to use IGP, nowadays it is naturally OSPF in most cases, for resolution of the L3 path towards a subnet in question. The subnet itself is terminated on a gateway. Two different gateways to be accurate. One acts as a default gateway, which means that it is active router in HSRP, so it holds "virtual" IP address as well as MAC address of the default gateway. It is the address that hosts in the subnet uses in their routing tables and subsequently in their ARP tables.<br />
<br />
So far so good. Everything is up and running, one gateway is active, another one passive, both routers are redistributing connected routes to OSPF and both are able to deliver traffic from L3 networks towards clients in the L2 subnet in question.<br />
<br />
But wait a moment... How do L3 switches know where to send the traffic over L2? Yes, routing table and ARP resolution. By default the <b>ARP table records timeout is 4 hrs</b>, right?<br />
<br />
And how do L2 switches know the port to forward traffic? MAC address table (or switching table, depends on terminology). <b>Timeout for MAC address table? 5 mins.</b><br />
<br />
So what does the passive switch do when no traffic from hosts hits this switch, because it does not have active default GW address and nobody wants to communicate over L2 to it's "real IP". Well, obviously the MAC address table cleans out after a while but ARP records stays much much longer (and ARP records are refreshed when some traffic arrives and the L3 switch does not have proper ARP table records).<br />
<br />
But... When there is no MAC address table record for the particular MAC on the standby L3 switch, <b>the switch just broadcasts the traffic for that MAC to all ports</b>. And it multiplies in the network further because in case you have prevailing vertical flows in your network it is likely that any other L2 switch in the chain does not know the MAC address either. Except the one which has the destination host connected. So it means you might have huge multiplication of useless traffic if your L3 switch attracts some traffic in OSPF for any subnet which it is standby for it's gateway.<br />
<br />
It might several megs or even tens or hundred megs of constant scattered traffic in real life scenario in 1 Gig network.<br />
<br />
And what to do to avoid this? Think of the design pattern... <b>Set higher OSPF costs for redistributed routes on the standby router.</b> Simple but effective, huh?</p>
    
  </div>
</article>
      
        <article class="md-post md-post--excerpt">
  <header class="md-post__header">
    
    <div class="md-post__meta md-meta">
      <ul class="md-meta__list">
        <li class="md-meta__item">
          <time datetime="2013-05-30 13:39:00+02:00">May 30, 2013</time></li>
        
        
          
          <li class="md-meta__item">
            
              5 min read
            
          </li>
        
      </ul>
      
    </div>
  </header>
  <div class="md-post__content md-typeset">
    <h2 id="usb-device-id-0bdb1926-ericsson-business-mobile-networks-bv-stopped-working-after-update-linux-mint-14-to-15"><a class="toclink" href="../../2013/05/30/2013-05-usb-device-id-0bdb1926-ericsson/">USB device ID 0bdb:1926 Ericsson Business Mobile Networks BV stopped working after update Linux Mint 14 to 15</a></h2>
<p><em>This was originally posted on blogger <a href="https://snarkybrill.blogspot.com/2013/05/usb-device-id-0bdb1926-ericsson.html">here</a></em>.</p>
<p>I tried to upgrade Linux Mint on my laptop from Linux Mint 14 (Nadia) to 15 (Olivia). And suddenly GSM/3G modem that I am using to connect to one Czech mobile ISP stopped working.<br />
<br />
The problem was that the connecting to the network timed out each time. And there was no apparent reason in <i>/var/log/syslog</i> apart from that DHCP did not received a reply from the ISP:<br />
<br /></p>
<pre>May 26 02:31:58 tapir modem-manager[13636]:   (ttyACM2) opening serial port...
May 26 02:31:58 tapir modem-manager[13636]:   (ttyACM1): using PDU mode for SMS
May 26 02:31:58 tapir modem-manager[13636]:   Modem /org/freedesktop/ModemManager/Modems/0: state changed (enabling -&gt; enabled)
May 26 02:31:58 tapir NetworkManager[13638]:  WWAN now enabled by management service
May 26 02:31:59 tapir modem-manager[13636]:   Modem /org/freedesktop/ModemManager/Modems/0: state changed (enabled -&gt; searching)
May 26 02:32:02 tapir modem-manager[13636]:   Modem /org/freedesktop/ModemManager/Modems/0: state changed (searching -&gt; registered)
May 26 02:32:42 tapir NetworkManager[13638]:  Activation (wwan0) starting connection 'T-Mobile Default'
May 26 02:32:42 tapir NetworkManager[13638]:  (wwan0): device state change: disconnected -&gt; prepare (reason 'none') [30 40 0]
May 26 02:32:42 tapir NetworkManager[13638]:  Activation (wwan0) Stage 1 of 5 (Device Prepare) scheduled...
May 26 02:32:42 tapir NetworkManager[13638]:  Activation (wwan0) Stage 1 of 5 (Device Prepare) started...
May 26 02:32:42 tapir NetworkManager[13638]:  Activation (wwan0) Stage 1 of 5 (Device Prepare) complete.
May 26 02:32:42 tapir modem-manager[13636]:   Modem /org/freedesktop/ModemManager/Modems/0: state changed (registered -&gt; connecting)
May 26 02:32:44 tapir modem-manager[13636]:   Modem /org/freedesktop/ModemManager/Modems/0: state changed (connecting -&gt; connected)
May 26 02:32:44 tapir NetworkManager[13638]:  Activation (wwan0) Stage 2 of 5 (Device Configure) scheduled...
May 26 02:32:44 tapir NetworkManager[13638]:  Activation (wwan0) Stage 2 of 5 (Device Configure) starting...
May 26 02:32:44 tapir NetworkManager[13638]:  (wwan0): device state change: prepare -&gt; config (reason 'none') [40 50 0]
May 26 02:32:44 tapir NetworkManager[13638]:  (wwan0): bringing up device.
May 26 02:32:44 tapir NetworkManager[13638]:  Activation (wwan0) Stage 2 of 5 (Device Configure) successful.
May 26 02:32:44 tapir NetworkManager[13638]:  Activation (wwan0) Stage 3 of 5 (IP Configure Start) scheduled.
May 26 02:32:44 tapir NetworkManager[13638]:  Activation (wwan0) Stage 2 of 5 (Device Configure) complete.
May 26 02:32:44 tapir avahi-daemon[657]: Joining mDNS multicast group on interface wwan0.IPv6 with address fe80::dcc9:44ff:fe89:56fc.
May 26 02:32:44 tapir avahi-daemon[657]: New relevant interface wwan0.IPv6 for mDNS.
May 26 02:32:44 tapir avahi-daemon[657]: Registering new address record for fe80::dcc9:44ff:fe89:56fc on wwan0.*.
May 26 02:32:44 tapir NetworkManager[13638]:  Activation (wwan0) Stage 3 of 5 (IP Configure Start) started...
May 26 02:32:44 tapir NetworkManager[13638]:  (wwan0): device state change: config -&gt; ip-config (reason 'none') [50 70 0]
May 26 02:32:44 tapir NetworkManager[13638]:  Activation (wwan0) Beginning DHCPv4 transaction (timeout in 45 seconds)
May 26 02:32:44 tapir NetworkManager[13638]:  dhclient started with pid 13689
May 26 02:32:44 tapir NetworkManager[13638]:  Activation (wwan0) Stage 4 of 5 (IPv6 Configure Timeout) scheduled...
May 26 02:32:44 tapir NetworkManager[13638]:  Activation (wwan0) Stage 3 of 5 (IP Configure Start) complete.
May 26 02:32:44 tapir NetworkManager[13638]:  Activation (wwan0) Stage 4 of 5 (IPv6 Configure Timeout) started...
May 26 02:32:44 tapir NetworkManager[13638]:  Activation (wwan0) Stage 4 of 5 (IPv6 Configure Timeout) complete.
May 26 02:32:44 tapir dhclient: Internet Systems Consortium DHCP Client 4.2.4
May 26 02:32:44 tapir dhclient: Copyright 2004-2012 Internet Systems Consortium.
May 26 02:32:44 tapir dhclient: All rights reserved.
May 26 02:32:44 tapir dhclient: For info, please visit https://www.isc.org/software/dhcp/
May 26 02:32:44 tapir dhclient: 
May 26 02:32:44 tapir NetworkManager[13638]:  (wwan0): DHCPv4 state changed nbi -&gt; preinit
May 26 02:32:44 tapir dhclient: Listening on LPF/wwan0/de:c9:44:89:56:fc
May 26 02:32:44 tapir dhclient: Sending on   LPF/wwan0/de:c9:44:89:56:fc
May 26 02:32:44 tapir dhclient: Sending on   Socket/fallback
May 26 02:32:44 tapir dhclient: DHCPDISCOVER on wwan0 to 255.255.255.255 port 67 interval 3 (xid=0x40900a61)
May 26 02:32:47 tapir dhclient: DHCPDISCOVER on wwan0 to 255.255.255.255 port 67 interval 8 (xid=0x40900a61)
May 26 02:32:55 tapir dhclient: DHCPDISCOVER on wwan0 to 255.255.255.255 port 67 interval 13 (xid=0x40900a61)
ay 26 02:33:08 tapir dhclient: DHCPDISCOVER on wwan0 to 255.255.255.255 port 67 interval 7 (xid=0x40900a61)
May 26 02:33:15 tapir dhclient: DHCPDISCOVER on wwan0 to 255.255.255.255 port 67 interval 13 (xid=0x40900a61)
May 26 02:33:28 tapir dhclient: DHCPDISCOVER on wwan0 to 255.255.255.255 port 67 interval 20 (xid=0x40900a61)
May 26 02:33:29 tapir NetworkManager[13638]:  (wwan0): DHCPv4 request timed out.
May 26 02:33:29 tapir NetworkManager[13638]:  (wwan0): canceled DHCP transaction, DHCP client pid 13689
May 26 02:33:29 tapir NetworkManager[13638]:  Activation (wwan0) Stage 4 of 5 (IPv4 Configure Timeout) scheduled...
May 26 02:33:29 tapir NetworkManager[13638]:  Activation (wwan0) Stage 4 of 5 (IPv4 Configure Timeout) started...
May 26 02:33:29 tapir NetworkManager[13638]:  (wwan0): device state change: ip-config -&gt; failed (reason 'ip-config-unavailable') [70 120 5]
May 26 02:33:29 tapir NetworkManager[13638]:  Activation (wwan0) failed for connection 'T-Mobile Default'
May 26 02:33:29 tapir NetworkManager[13638]:  Activation (wwan0) Stage 4 of 5 (IPv4 Configure Timeout) complete.
May 26 02:33:29 tapir modem-manager[13636]:   Modem /org/freedesktop/ModemManager/Modems/0: state changed (connected -&gt; disconnecting)
May 26 02:33:29 tapir NetworkManager[13638]:  (wwan0): device state change: failed -&gt; disconnected (reason 'none') [120 30 0]
May 26 02:33:29 tapir NetworkManager[13638]:  (wwan0): deactivating device (reason 'none') [0]
May 26 02:33:29 tapir avahi-daemon[657]: Interface wwan0.IPv6 no longer relevant for mDNS.
May 26 02:33:29 tapir avahi-daemon[657]: Leaving mDNS multicast group on interface wwan0.IPv6 with address fe80::dcc9:44ff:fe89:56fc.
May 26 02:33:29 tapir avahi-daemon[657]: Withdrawing address record for fe80::dcc9:44ff:fe89:56fc on wwan0.
May 26 02:33:29 tapir modem-manager[13636]:   Modem /org/freedesktop/ModemManager/Modems/0: state changed (disconnecting -&gt; registered)
</pre>
<p><br />
<b>WTF?!</b> I have asked myself?<br />
<br />
After some time spent with the change-logs, debugging and asking google I have found this:&nbsp;<a href="https://bugs.launchpad.net/ubuntu/+source/network-manager/+bug/1172178">https://bugs.launchpad.net/ubuntu/+source/network-manager/+bug/1172178</a><br />
<br />
So it seems there is another pile of code in Linux kernel that aims to standardize some drivers and set common APIs, but it breaks things in meantime. Why it is always me who have to suffer this?:-)<br />
<br />
Advice from&nbsp;Oleg Cherkasov at the end of the ticked worked for me. Thanks!</p>
    
  </div>
</article>
      
        <article class="md-post md-post--excerpt">
  <header class="md-post__header">
    
    <div class="md-post__meta md-meta">
      <ul class="md-meta__list">
        <li class="md-meta__item">
          <time datetime="2013-01-09 12:08:00.001000+01:00">January 9, 2013</time></li>
        
        
          
          <li class="md-meta__item">
            
              5 min read
            
          </li>
        
      </ul>
      
    </div>
  </header>
  <div class="md-post__content md-typeset">
    <h2 id="shameful-spyware-in-smooth-gestures"><a class="toclink" href="../../2013/01/09/2013-01-shameful-spyware-in-smooth-gestures/">Shameful spyware in Smooth Gestures</a></h2>
<p><em>This was originally posted on blogger <a href="https://snarkybrill.blogspot.com/2013/01/shameful-spyware-in-smooth-gestures.html">here</a></em>.</p>
<p>Once again there was an ugly shameful and disgusting breach of what modern computing with OSS stands for. The Smooth Gestures extension to Chromium / Google Chrome was mucked with spyware which reports all the browsing actions to the creator of the extension.<br />
<br />
Look here:&nbsp;<a href="http://codeonfire.cthru.biz/?p=96">http://codeonfire.cthru.biz/?p=96</a><br />
<br />
I personally used the extension so I was a bit upset when it disappeared from Chrome Market but a bit of googling was enough to wake up. It said: <b><u>What the ****?!</u></b><br />
<br />
Anyway I hunted for some replacement which wasn't that easy... But I have found one: Recognize it for Chrome -&nbsp;<a href="https://chrome.google.com/webstore/detail/recognize-it-for-chrome/bclaagbljldlbmihblajinlijckggkea">https://chrome.google.com/webstore/detail/recognize-it-for-chrome/bclaagbljldlbmihblajinlijckggkea</a><br />
<br /></p>
<hr />
<h3 id="1-comments-captured-from-original-post-on-blogger"><a class="toclink" href="../../2013/01/09/2013-01-shameful-spyware-in-smooth-gestures/#1-comments-captured-from-original-post-on-blogger">1 comments captured from <a href="https://snarkybrill.blogspot.com/2013/01/shameful-spyware-in-smooth-gestures.html">original post</a> on Blogger</a></h3>
<p><strong>mwj said on 2014-01-21</strong></p>
<p>thanks - i hated SG's adware - thanks for the replacement tip!</p>
    
  </div>
</article>
      
        <article class="md-post md-post--excerpt">
  <header class="md-post__header">
    
    <div class="md-post__meta md-meta">
      <ul class="md-meta__list">
        <li class="md-meta__item">
          <time datetime="2012-12-30 13:51:00.002000+01:00">December 30, 2012</time></li>
        
        
          
          <li class="md-meta__item">
            
              5 min read
            
          </li>
        
      </ul>
      
    </div>
  </header>
  <div class="md-post__content md-typeset">
    <h2 id="openwrt-insanity-shame-and-ignorancy"><a class="toclink" href="../../2012/12/30/2012-12-openwrt-insanity-shame-and-ignorancy/">OpenWRT insanity, shame and ignorancy</a></h2>
<p><em>This was originally posted on blogger <a href="https://snarkybrill.blogspot.com/2012/12/openwrt-insanity-shame-and-ignorancy.html">here</a></em>.</p>
<p>I have been hit by a idiotic, unreasonable, insane and stupid setting in OpenWRT:<br />
<br />
<b>/etc/sysctl.conf:</b><br /></p>
<pre>net.ipv4.netfilter.ip_conntrack_tcp_timeout_established=3600
</pre>
<p><br />
Well what does it mean? Simple thing: Every long-lasting connections breaks after one hour. No matter whether I have TCP keepalive on, because TCP keepalive timeout defaults to 7200 seconds.<br />
<br />
In practice you will see this:<br /></p>
<pre>brill@tapir ~ $ ssh milhouse.backbone.ignum.cz
Linux milhouse 2.6.32-5-amd64 #1 SMP Wed May 18 23:13:22 UTC 2011 x86_64

Keep keep your hands off this server!
Nikdo tu na nic nesahejte!

Last login: Sun Dec 30 00:46:47 2012 from 89.177.24.237</pre>
<pre>&lt;no activity for more than 1 hour&gt;
brill@milhouse:~$&nbsp;Write failed: Broken pipe

brill@tapir ~ $
</pre>
<p><br />
There was a flame on this topic on OpenWRT forum:<br />
<br />
<a href="https://dev.openwrt.org/ticket/5777">https://dev.openwrt.org/ticket/5777</a><br />
<br />
And the result is: invalid, wontfix, <strong><em>*yourself.<br />
<br />
Mother</em></strong>*ers. They break everything. God... You can sacrifice filesystem, give up serial port, GPIO, LED diodes, whatever, but keep firewall working normally when you are building network appliance you idiots!</p>
    
  </div>
</article>
      
      
        
          



<nav class="md-pagination">
  <a class="md-pagination__link" href="../..">1</a> <span class="md-pagination__current">2</span> <a class="md-pagination__link" href="../3/">3</a> <a class="md-pagination__link" href="../4/">4</a>
</nav>
        
      
    </div>
  </div>

          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "../..", "features": ["navigation.sections"], "search": "../../assets/javascripts/workers/search.f8cc74c7.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.f1b6f286.min.js"></script>
      
    
  </body>
</html>